
> logistix@1.0.0 typecheck
> tsc --noEmit --project tsconfig.check.json

app/(dashboard)/settings/page.tsx(20,28): error TS2349: This expression is not callable.
  Not all constituents of type '{ (): SQLiteSelectBuilder<undefined, "sync", RunResult, "db">; <TSelection extends SelectedFields>(fields: TSelection): SQLiteSelectBuilder<TSelection, "sync", RunResult, "db">; } | MockChain' are callable.
    Type 'MockChain' has no call signatures.
app/(dashboard)/settings/page.tsx(27,34): error TS2349: This expression is not callable.
  Not all constituents of type '{ (): SQLiteSelectBuilder<undefined, "sync", RunResult, "db">; <TSelection extends SelectedFields>(fields: TSelection): SQLiteSelectBuilder<TSelection, "sync", RunResult, "db">; } | MockChain' are callable.
    Type 'MockChain' has no call signatures.
app/(dashboard)/settings/page.tsx(28,33): error TS2349: This expression is not callable.
  Not all constituents of type '{ (): SQLiteSelectBuilder<undefined, "sync", RunResult, "db">; <TSelection extends SelectedFields>(fields: TSelection): SQLiteSelectBuilder<TSelection, "sync", RunResult, "db">; } | MockChain' are callable.
    Type 'MockChain' has no call signatures.
app/api/v1/produits/[id]/resolve-conflict/route.ts(68,17): error TS2322: Type 'EnrichmentData' is not assignable to type '{ confidence?: number; originalUrl?: string; source?: string; modelUsed?: string; enrichedAt?: string; enrichmentStatus?: "pending" | "done" | "failed" | "conflict"; error?: string; vintedBrandId?: number; ... 10 more ...; marketStats?: { ...; }; }'.
  Types of property 'candidates' are incompatible.
    Type 'unknown[]' is not assignable to type '{ id: string; name: string; brand?: string; category?: string; url?: string; confidence: number; imageUrl?: string; description?: string; }[]'.
      Type '{}' is missing the following properties from type '{ id: string; name: string; brand?: string; category?: string; url?: string; confidence: number; imageUrl?: string; description?: string; }': id, name, confidence
app/api/v1/produits/[id]/resolve-conflict/route.ts(105,87): error TS2345: Argument of type '{ name: string; brand: string; category: string; url: string; description: string; enrichmentData: { enrichmentStatus: "done"; resolvedAt: string; resolvedBy: "manual" | "candidate"; selectedCandidateId: string; candidates: unknown[]; confidence?: number; source?: string; modelUsed?: string; }; }' is not assignable to parameter of type 'Partial<{ name: string; userId: string; price: number; id?: string; brand?: string; createdAt?: string; updatedAt?: string; status?: "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"; ... 18 more ...; soldAt?: string; }>'.
  The types of 'enrichmentData.candidates' are incompatible between these types.
    Type 'unknown[]' is not assignable to type '{ id: string; name: string; brand?: string; category?: string; url?: string; confidence: number; imageUrl?: string; description?: string; }[]'.
      Type '{}' is missing the following properties from type '{ id: string; name: string; brand?: string; category?: string; url?: string; confidence: number; imageUrl?: string; description?: string; }': id, name, confidence
app/api/v1/produits/[id]/retry-enrichment/route.ts(51,13): error TS2322: Type '(t: typeof schema.integrationCredentials, { eq, and }: { eq: BinaryOperator; and: (...args: unknown[]) => unknown; }) => unknown' is not assignable to type 'SQL<unknown> | ((fields: { id: SQLiteColumn<{ name: "id"; tableName: "integration_credentials"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updatedAt: SQLiteColumn<...>; }, op...'.
  Type '(t: typeof schema.integrationCredentials, { eq, and }: { eq: BinaryOperator; and: (...args: unknown[]) => unknown; }) => unknown' is not assignable to type '(fields: { id: SQLiteColumn<{ name: "id"; tableName: "integration_credentials"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updatedAt: SQLiteColumn<...>; }...'.
    Types of parameters 't' and 'fields' are incompatible.
      Type '{ id: SQLiteColumn<{ name: "id"; tableName: "integration_credentials"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updatedAt: SQLiteColumn<...>; }' is not assignable to type 'SQLiteTableWithColumns<{ name: "integration_credentials"; schema: undefined; columns: { id: SQLiteColumn<{ name: "id"; tableName: "integration_credentials"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updated...'.
        Type '{ id: SQLiteColumn<{ name: "id"; tableName: "integration_credentials"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updatedAt: SQLiteColumn<...>; }' is missing the following properties from type 'SQLiteTable<{ name: "integration_credentials"; schema: undefined; columns: { id: SQLiteColumn<{ name: "id"; tableName: "integration_credentials"; dataType: "string"; columnType: "SQLiteText"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updatedAt: SQLiteC...': _, $inferSelect, $inferInsert, getSQL
app/api/v1/produits/[id]/retry-enrichment/route.ts(57,20): error TS4111: Property 'credentials' comes from an index signature, so it must be accessed with ['credentials'].
app/api/v1/produits/[id]/retry-enrichment/route.ts(57,42): error TS4111: Property 'credentials' comes from an index signature, so it must be accessed with ['credentials'].
app/api/v1/produits/[id]/retry-enrichment/route.ts(64,50): error TS4111: Property 'credentials' comes from an index signature, so it must be accessed with ['credentials'].
app/api/v1/produits/[id]/retry-enrichment/route.ts(65,29): error TS4111: Property 'credentials' comes from an index signature, so it must be accessed with ['credentials'].
app/api/v1/produits/[id]/retry-enrichment/route.ts(92,43): error TS4111: Property 'credentials' comes from an index signature, so it must be accessed with ['credentials'].
app/api/v1/produits/[id]/sales/route.ts(60,76): error TS2345: Argument of type '{ vendu: "1"; prixVente: number; sellingPrice: number; dateVente: unknown; dateMiseEnLigne: unknown; plateforme: unknown; status: "sold"; }' is not assignable to parameter of type 'Partial<{ name: string; userId: string; price: number; id?: string; brand?: string; createdAt?: string; updatedAt?: string; status?: "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"; ... 18 more ...; soldAt?: string; }>'.
  Types of property 'plateforme' are incompatible.
    Type 'unknown' is not assignable to type '"leboncoin" | "autre"'.
app/api/v1/settings/enrichment/models/route.ts(35,35): error TS2352: Conversion of type 'IntegrationCredentials' to type 'GeminiCredentials' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'apiKey' is missing in type 'IntegrationCredentials' but required in type 'GeminiCredentials'.
app/api/v1/settings/enrichment/route.ts(33,44): error TS2352: Conversion of type 'IntegrationCredentials' to type 'GeminiCredentials' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'apiKey' is missing in type 'IntegrationCredentials' but required in type 'GeminiCredentials'.
app/api/v1/settings/enrichment/route.ts(81,68): error TS2349: This expression is not callable.
  Not all constituents of type 'Promise<unknown> | MockChain | ((...args: unknown[]) => MockChain) | (<TSelection extends Omit<DBQueryConfig<"many", true, ExtractTablesWithRelations<typeof import("F:/Youcloud/Documents/Projets/Logistix/lib/database/schema")>, { ...; }>, "limit">>(config?: KnownKeysOnly<...>) => SQLiteSyncRelationalQuery<...>)' are callable.
    Type 'Promise<unknown>' has no call signatures.
app/api/v1/settings/enrichment/route.ts(98,18): error TS2349: This expression is not callable.
  Not all constituents of type '(<TTable extends SQLiteTable>(into: TTable) => SQLiteInsertBuilder<TTable, "sync", RunResult>) | MockChain' are callable.
    Type 'MockChain' has no call signatures.
app/api/v1/settings/enrichment/test/route.ts(44,39): error TS2352: Conversion of type 'IntegrationCredentials' to type 'GeminiCredentials' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'apiKey' is missing in type 'IntegrationCredentials' but required in type 'GeminiCredentials'.
app/api/v1/settings/enrichment/test/route.ts(59,49): error TS2349: This expression is not callable.
  Not all constituents of type 'Promise<unknown> | MockChain | ((...args: unknown[]) => MockChain) | (<TSelection extends Omit<DBQueryConfig<"many", true, ExtractTablesWithRelations<typeof import("F:/Youcloud/Documents/Projets/Logistix/lib/database/schema")>, { ...; }>, "limit">>(config?: KnownKeysOnly<...>) => SQLiteSyncRelationalQuery<...>)' are callable.
    Type 'Promise<unknown>' has no call signatures.
app/api/v1/sync/superbuy/live/route.ts(139,59): error TS2345: Argument of type 'unknown[]' is not assignable to parameter of type 'SuperbuyParcelData[]'.
  Property 'packageId' is missing in type '{}' but required in type 'SuperbuyParcelData'.
app/api/v1/sync/superbuy/parcels/route.ts(165,7): error TS2345: Argument of type 'unknown[]' is not assignable to parameter of type 'SuperbuyParcelData[]'.
  Property 'packageId' is missing in type '{}' but required in type 'SuperbuyParcelData'.
lib/constants/config.ts(255,31): error TS2349: This expression is not callable.
  Not all constituents of type '{ (): SQLiteSelectBuilder<undefined, "sync", RunResult, "db">; <TSelection extends SelectedFields>(fields: TSelection): SQLiteSelectBuilder<TSelection, "sync", RunResult, "db">; } | MockChain' are callable.
    Type 'MockChain' has no call signatures.
lib/constants/config.ts(273,46): error TS2349: This expression is not callable.
  Not all constituents of type 'Promise<unknown> | MockChain | ((...args: unknown[]) => MockChain) | (<TSelection extends Omit<DBQueryConfig<"many", true, ExtractTablesWithRelations<typeof import("F:/Youcloud/Documents/Projets/Logistix/lib/database/schema")>, { ...; }>, "limit">>(config?: KnownKeysOnly<...>) => SQLiteSyncRelationalQuery<...>)' are callable.
    Type 'Promise<unknown>' has no call signatures.
lib/repositories/product-repository.ts(41,29): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: SQLiteColumn<{ name: "status"; tableName: "products"; dataType: "string"; columnType: "SQLiteText"; data: "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>, right: SQLWrapper | ... 6 more ... | "online"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'SQLiteColumn<{ name: "status"; tableName: "products"; dataType: "string"; columnType: "SQLiteText"; data: "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'SQLiteColumn<{ name: "status"; tableName: "products"; dataType: "string"; columnType: "SQLiteText"; data: "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'SQLiteColumn<{ name: "status"; tableName: "products"; dataType: "string"; columnType: "SQLiteText"; data: "draft" | "available" | "reserved" | "sold" | "removed" | "archived" | "online"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to parameter of type 'never'.
lib/services/parcelle-service.ts(151,15): error TS2322: Type '{ userId: string; isActive: number; name?: string; superbuyId?: string; trackingNumber?: string; weight?: string | number; status?: ParcelStatus; carrier?: string; totalPrice?: string | number; }' is not assignable to type '{ userId: string; superbuyId: string; name?: string; id?: string; createdAt?: string; updatedAt?: string; trackingNumber?: string; weight?: number; status?: string; carrier?: string; totalPrice?: number; pricePerGram?: number; isActive?: number; }'.
  Property 'superbuyId' is optional in type '{ userId: string; isActive: number; name?: string; superbuyId?: string; trackingNumber?: string; weight?: string | number; status?: ParcelStatus; carrier?: string; totalPrice?: string | number; }' but required in type '{ userId: string; superbuyId: string; name?: string; id?: string; createdAt?: string; updatedAt?: string; trackingNumber?: string; weight?: number; status?: string; carrier?: string; totalPrice?: number; pricePerGram?: number; isActive?: number; }'.
lib/services/parcelle-service.ts(388,15): error TS2322: Type '{ isActive: number; userId: string; name?: string; superbuyId?: string; trackingNumber?: string; weight?: string | number; status?: ParcelStatus; carrier?: string; totalPrice?: string | number; }[]' is not assignable to type '{ userId: string; superbuyId: string; name?: string; id?: string; createdAt?: string; updatedAt?: string; trackingNumber?: string; weight?: number; status?: string; carrier?: string; totalPrice?: number; pricePerGram?: number; isActive?: number; }[]'.
  Type '{ isActive: number; userId: string; name?: string; superbuyId?: string; trackingNumber?: string; weight?: string | number; status?: ParcelStatus; carrier?: string; totalPrice?: string | number; }' is not assignable to type '{ userId: string; superbuyId: string; name?: string; id?: string; createdAt?: string; updatedAt?: string; trackingNumber?: string; weight?: number; status?: string; carrier?: string; totalPrice?: number; pricePerGram?: number; isActive?: number; }'.
    Property 'superbuyId' is optional in type '{ isActive: number; userId: string; name?: string; superbuyId?: string; trackingNumber?: string; weight?: string | number; status?: ParcelStatus; carrier?: string; totalPrice?: string | number; }' but required in type '{ userId: string; superbuyId: string; name?: string; id?: string; createdAt?: string; updatedAt?: string; trackingNumber?: string; weight?: number; status?: string; carrier?: string; totalPrice?: number; pricePerGram?: number; isActive?: number; }'.
